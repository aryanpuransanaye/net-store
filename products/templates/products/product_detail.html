{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6">
            {% if product.image %}
                <img src="{{ product.image.url }}" class="img-fluid rounded shadow-sm" alt="{{ product.name }}">
            {% else %}
                <img src="https://via.placeholder.com/500" class="img-fluid rounded shadow-sm" alt="No Image">
            {% endif %}
        </div>
        <div class="col-md-6">
            <h2 class="fw-bold">{{ product.name }}</h2>
            <p class="text-muted">Category: {{ product.category.name }}</p>
            {% if product.brand %}
                <p>Brand: {{ product.brand.name }}</p>
            {% endif %}
            <p class="mt-3"><strong>Description:</strong> {{ product.description|default:"There is no discription" }}</p>
            
            {% if product.discount_percentage > 0 %}
                <p class="card-text">
                    <strong>ðŸ’² Price:</strong>
                    <span style="text-decoration: line-through; color: red;">${{ product.price }}</span>
                    <span class="text-danger fw-bold">
                        {{ product.discount_percentage }}% OFF
                    </span>
                </p>
                <p class="card-text">
                    <strong>ðŸ’² Discounted Price:</strong> ${{ product.final_price }}
                </p>
            {% else %}
                    <p class="card-text"><strong>ðŸ’² Price:</strong> ${{ product.price }}</p>
            {% endif %}
    
            <p>Stock: {% if product.stock > 0 %} <span class="text-success">In Stock</span> {% else %} <span class="text-danger">Out of Stuck</span> {% endif %}</p>
            
            <a href="{% url 'orders:add-to-cart' product.id %}" class="btn btn-primary mt-3">Add to Cart ðŸ›’</a> 
            <a href="{% url 'products:product-review' product.id %}" class="btn btn-primary mt-3">View Reviews ðŸ“¢</a>
            <a href="{% url 'customers:wishlist-add' product.id %}" class="btn btn-primary mt-3">Add to Wishlist âœ¨</a>
        </div>
    </div>
</div>
{% endblock %}
